

META========================================================
Taking 100 images at random, 64% had text, 50% had discrinimative text
Random MAP would be 1/1 * 1/2 * (1/1000 + 2/1000) = 0.0015.

COMMANDS========================================================

cd ../nih_pirc_siamese
python test_nih_pirc_siamese.py nih_pirc_siamese_deploy.prototxt nih_pirc_siamese_iter_18000.caffemodel output.csv data/dc.txt data/dr1.txt data/dr2.txt
cd ../nih_pirc_eval
./calculate_map.py ../nih_pirc_siamese/data/groundTruthTableN.csv ../nih_pirc_siamese/output.csv

RESULTS=========================================================

MNIST SIAMESE 1, FULL IMAGES SQUASHED TO 227x227, 18k iterations
The ground truth table is for 5000 objects.
The input matrix is for 5000 objects.

Iter:18000,MAP:0.00490075030954,data:all
the best precision was on image 4275.jpg, which had a score of 0.50054377379.
following are the top 10 matches for this image.
[('00002-3228-30_PART_1_OF_1_CHAL10_SB_391E1C80.jpg', 1), ('00173-0595-00_PART_1_OF_1_CHAL10_SB_10230838.jpg', 2), ('00093-4404-01_PART_1_OF_1_CHAL10_SB_372D1BD8.jpg', 3), ('00781-5191-01_PART_1_OF_1_CHAL10_SB_CD20E6B7.jpg', 4), ('00093-0536-01_PART_1_OF_1_CHAL10_SB_992B4CEA.jpg', 5), ('00555-0139-09_PART_1_OF_1_CHAL10_SB_EE2B774B.jpg', 6), ('00591-3202-01_PART_1_OF_1_CHAL10_SF_C11FE0FF.jpg', 7), ('00093-2274-34_PART_1_OF_1_CHAL10_SF_022D814C.jpg', 8), ('00093-7327-01_PART_1_OF_1_CHAL10_SF_B02D580A.jpg', 9), ('53489-0146-01_PART_1_OF_1_CHAL10_SF_8021C06E.jpg', 10)]

Iter:10000,MAP:0.00473318952768,data:all
the best precision was on image 4275.jpg, which had a score of 0.500545553737.
following are the top 10 matches for this image.
[('00002-3228-30_PART_1_OF_1_CHAL10_SB_391E1C80.jpg', 1), ('00173-0595-00_PART_1_OF_1_CHAL10_SB_10230838.jpg', 2), ('00074-3290-13_PART_1_OF_1_CHAL10_SF_EC1D766B.jpg', 3), ('00378-0505-01_PART_1_OF_1_CHAL10_SF_652332F9.jpg', 4), ('00781-5191-01_PART_1_OF_1_CHAL10_SB_CD20E6B7.jpg', 5), ('00093-4404-01_PART_1_OF_1_CHAL10_SB_372D1BD8.jpg', 6), ('67767-0133-60_PART_1_OF_1_CHAL10_SF_26269354.jpg', 7), ('00172-5032-60_PART_1_OF_1_CHAL10_SF_002D0078.jpg', 8), ('00093-7327-01_PART_1_OF_1_CHAL10_SF_B02D580A.jpg', 9), ('53489-0146-01_PART_1_OF_1_CHAL10_SF_8021C06E.jpg', 10)]



Iter:18000,MAP:0.00465298036852,data:test set only
the best precision was on image 3598.jpg, which had a score of 0.535714285714.
following are the top 10 matches for this image.
[('00002-3228-30_PART_1_OF_1_CHAL10_SB_391E1C80.jpg', 1), ('00173-0595-00_PART_1_OF_1_CHAL10_SB_10230838.jpg', 2), ('00093-5768-56_PART_1_OF_1_CHAL10_SB_7A1C3D41.jpg', 3), ('50111-0397-01_PART_1_OF_1_CHAL10_SF_30269804.jpg', 4), ('00093-3109-53_PART_1_OF_1_CHAL10_SB_C819644B.jpg', 5), ('00591-5788-01_PART_1_OF_1_CHAL10_SB_C51FE2DF.jpg', 6), ('00093-7466-98_PART_1_OF_1_CHAL10_SB_A51DD2AE.jpg', 7), ('59762-5021-01_PART_1_OF_1_CHAL10_SB_19230CB8.jpg', 8), ('59762-2004-01_PART_1_OF_1_CHAL10_SB_E61DF31F.jpg', 9), ('00093-7426-56_PART_1_OF_1_CHAL10_SB_DC27EE6F.jpg', 10)]


MNIST SIAMESE 2, FULL IMAGES to 227x227

[('00591-5442-01_PART_1_OF_1_CHAL10_SF_BA205D42.jpg', 1), ('50458-0579-30_PART_1_OF_1_CHAL10_SF_8F1DC7FE.jpg', 2), ('59762-2002-01_PART_1_OF_1_CHAL10_SF_E81DF46F.jpg', 3), ('65580-0304-03_PART_1_OF_1_CHAL10_SF_011280A4.jpg', 4), ('59762-2004-01_PART_1_OF_1_CHAL10_SB_E61DF31F.jpg', 5), ('50111-0563-01_PART_1_OF_1_CHAL10_SF_4B3025E1.jpg', 6), ('60505-0065-00_PART_1_OF_1_CHAL10_SB_412920F9.jpg', 7), ('00603-6148-21_PART_1_OF_1_CHAL10_SF_5126A8E5.jpg', 8), ('50111-0648-01_PART_1_OF_1_CHAL10_SF_6E303721.jpg', 9), ('59762-2003-01_PART_1_OF_1_CHAL10_SF_EC1DF61F.jpg', 10)]
============================
The ground truth table is for 5000 objects.
The input matrix is for 1500 objects.
MAP is 0.0149319229455
============================

MNIST SIAMESE 2, SELECTIVE IMAGES TO 227x227

Iter:20000,MAP:0.0167717786453,data: test set only
the best precision was on image 2955.jpg, which had a score of 0.416666666667.
following are the top 10 matches for this image.
[('00591-5442-01_PART_1_OF_1_CHAL10_SF_BA205D42.jpg', 1), ('00781-5191-01_PART_1_OF_1_CHAL10_SB_CD20E6B7.jpg', 2), ('51285-0063-90_PART_2_OF_2_CHAL10_SB_732D39A9.jpg', 3), ('51285-0063-90_PART_2_OF_2_CHAL10_SF_732D39A9.jpg', 4), ('49884-0403-91_PART_1_OF_1_CHAL10_SF_3E1C9F54.jpg', 5), ('51248-0151-03_PART_1_OF_1_CHAL10_SF_5A1DAD5D.jpg', 6), ('59762-1301-01_PART_1_OF_1_CHAL10_SB_292114A8.jpg', 7), ('65862-0156-30_PART_1_OF_1_CHAL10_SF_1E238F6C.jpg', 8), ('68453-0375-10_PART_1_OF_1_CHAL10_SF_14200A30.jpg', 9), ('68462-0360-01_PART_1_OF_1_CHAL10_SF_06230358.jpg', 10)]
============================
The ground truth table is for 5000 objects.
The input matrix is for 1500 objects.
MAP is 0.0167717786453
============================


Mnist 3 full, 5000 iterations

the best precision was on image 683.jpg, which had a score of 0.259523809524.
following are the top 10 matches for this image.
[('00591-5442-01_PART_1_OF_1_CHAL10_SF_BA205D42.jpg', 1), ('65862-0155-30_PART_1_OF_1_CHAL10_SB_FF23FFEF.jpg', 2), ('50111-0393-01_PART_1_OF_1_CHAL10_SB_61233089.jpg', 3), ('53489-0139-01_PART_1_OF_1_CHAL10_SB_B0205832.jpg', 4), ('50111-0328-01_PART_1_OF_1_CHAL10_SB_55212A99.jpg', 5), ('00781-5185-01_PART_1_OF_1_CHAL10_SB_8323C1DE.jpg', 6), ('63459-0404-30_PART_1_OF_1_CHAL10_SF_A72D538A.jpg', 7), ('53489-0510-01_PART_1_OF_1_CHAL10_SF_14230A48.jpg', 8), ('65862-0144-01_PART_1_OF_1_CHAL10_SF_5E212F49.jpg', 9), ('50111-0482-01_PART_1_OF_1_CHAL10_SF_3D301EF0.jpg', 10)]
============================
The ground truth table is for 5000 objects.
The input matrix is for 1500 objects.
MAP is 0.0148293107025
============================

Ss, 5000 iterations

the best precision was on image 867.jpg, which had a score of 0.0857142857143.
following are the top 10 matches for this image.
[('00591-5442-01_PART_1_OF_1_CHAL10_SF_BA205D42.jpg', 1), ('00603-3856-21_PART_1_OF_1_CHAL10_SB_AC265632.jpg', 2), ('63459-0215-30_PART_1_OF_1_CHAL10_SF_D11C6893.jpg', 3), ('50111-0441-01_PART_1_OF_1_CHAL10_SB_E02F706B.jpg', 4), ('50458-0551-01_PART_1_OF_1_CHAL10_SB_0F1607A0.jpg', 5), ('63459-0215-30_PART_1_OF_1_CHAL10_SB_D11C6893.jpg', 6), ('50111-0469-01_PART_1_OF_1_CHAL10_SF_46302371.jpg', 7), ('59762-2858-01_PART_1_OF_1_CHAL10_SF_00200070.jpg', 8), ('51672-4030-01_PART_1_OF_1_CHAL10_SB_D12668F3.jpg', 9), ('51285-0083-70_PART_1_OF_2_CHAL10_SF_2E2F970C.jpg', 10)]
============================
The ground truth table is for 5000 objects.
The input matrix is for 1500 objects.
MAP is 0.015851881122
============================
